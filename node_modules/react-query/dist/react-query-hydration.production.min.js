!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).ReactQueryHydration={},e.React)}(this,(function(e,t){"use strict";function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function r(e){return e.state.isPaused}function u(e){return"success"===e.state.status}function a(e,t,r){if("object"==typeof t&&null!==t){var u=e.getMutationCache(),a=e.getQueryCache(),o=t.mutations||[],i=t.queries||[];o.forEach((function(t){var a;u.build(e,n({},null==r||null==(a=r.defaultOptions)?void 0:a.mutations,{mutationKey:t.mutationKey}),t.state)})),i.forEach((function(t){var u,o=a.get(t.queryHash);o?o.state.dataUpdatedAt<t.state.dataUpdatedAt&&o.setState(t.state):a.build(e,n({},null==r||null==(u=r.defaultOptions)?void 0:u.queries,{queryKey:t.queryKey,queryHash:t.queryHash}),t.state)}))}}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var o,i=(o=t.createContext(void 0),"undefined"!=typeof window&&(window.ReactQueryClientContext=o),o);var s=function(){var e,n=t.useContext("undefined"!=typeof window&&null!=(e=window.ReactQueryClientContext)?e:i);if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n};function d(e,n){var r=s(),u=t.useRef(n);u.current=n,t.useMemo((function(){e&&a(r,e,u.current)}),[r,e])}e.Hydrate=function(e){var t=e.children,n=e.options;return d(e.state,n),t},e.dehydrate=function(e,t){var n,a,o=[],i=[];if(!1!==(null==(n=t=t||{})?void 0:n.dehydrateMutations)){var s=t.shouldDehydrateMutation||r;e.getMutationCache().getAll().forEach((function(e){s(e)&&o.push(function(e){return{mutationKey:e.options.mutationKey,state:e.state}}(e))}))}if(!1!==(null==(a=t)?void 0:a.dehydrateQueries)){var d=t.shouldDehydrateQuery||u;e.getQueryCache().getAll().forEach((function(e){d(e)&&i.push(function(e){return{state:e.state,queryKey:e.queryKey,queryHash:e.queryHash}}(e))}))}return{mutations:o,queries:i}},e.hydrate=a,e.useHydrate=d,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-query-hydration.production.min.js.map
